---
sidebar_position: 300 
title: "ğŸ”„ æ›´æ–° Open WebUI"
---



## ä¸ºä»€ä¹ˆæˆ‘çš„ Open WebUI æ²¡æœ‰æ›´æ–°ï¼Ÿ

è¦å°†æœ¬åœ° Docker å®‰è£…çš„ Open WebUI æ›´æ–°åˆ°æœ€æ–°ç‰ˆæœ¬ï¼Œæ‚¨å¯ä»¥ä½¿ç”¨ **Watchtower** æˆ–æ‰‹åŠ¨æ›´æ–°å®¹å™¨ã€‚æŒ‰ç…§ä»¥ä¸‹æ­¥éª¤ä¹‹ä¸€æ“ä½œï¼ŒæŒ‡å¯¼æ‚¨æ›´æ–°ç°æœ‰çš„ Open WebUI é•œåƒã€‚

### æ‰‹åŠ¨æ›´æ–°

1. **åœæ­¢å¹¶ç§»é™¤å½“å‰å®¹å™¨**ï¼š

   è¿™å°†åœæ­¢æ­£åœ¨è¿è¡Œçš„å®¹å™¨å¹¶å°†å…¶ç§»é™¤ï¼Œä½†ä¸ä¼šåˆ é™¤å­˜å‚¨åœ¨ Docker å·ä¸­çš„æ•°æ®ã€‚ï¼ˆå¦‚æœæ‚¨çš„å®¹å™¨åç§°ä¸åŒï¼Œè¯·åœ¨æ•´ä¸ªæ›´æ–°è¿‡ç¨‹ä¸­å°† `open-webui` æ›¿æ¢ä¸ºæ‚¨çš„å®¹å™¨åç§°ã€‚ï¼‰

```bash
docker rm -f open-webui
```

2. **æ‹‰å–æœ€æ–°çš„ Docker é•œåƒ**ï¼š

   è¿™å°†æ›´æ–° Docker é•œåƒï¼Œä½†ä¸ä¼šæ›´æ–°æ­£åœ¨è¿è¡Œçš„å®¹å™¨æˆ–å…¶æ•°æ®ã€‚

```bash
docker pull ghcr.io/open-webui/open-webui:main
```


::::info
**ç§»é™¤ Docker å·ä¸­çš„ä»»ä½•ç°æœ‰æ•°æ®ï¼ˆé™¤éç»å¯¹å¿…è¦ï¼Œå¦åˆ™ä¸æ¨èï¼ï¼‰**ã€‚å¦‚æœä¸éœ€è¦ï¼Œè¯·å®Œå…¨è·³è¿‡æ­¤æ­¥éª¤å¹¶ç»§ç»­æ‰§è¡Œæœ€åä¸€æ­¥ï¼š

   å¦‚æœæ‚¨æƒ³ä»å¤´å¼€å§‹ï¼Œå¯ä»¥ç§»é™¤ Docker å·ä¸­çš„ç°æœ‰æ•°æ®ã€‚è¯·å°å¿ƒï¼Œå› ä¸ºè¿™å°†åˆ é™¤æ‰€æœ‰èŠå¤©å†å²å’Œå…¶ä»–æ•°æ®ã€‚

   æ•°æ®å­˜å‚¨åœ¨åä¸º `open-webui` çš„ Docker å·ä¸­ã€‚æ‚¨å¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤ç§»é™¤å®ƒï¼š

```bash
docker volume rm open-webui
```
::::

3. **ä½¿ç”¨æ›´æ–°çš„é•œåƒå’Œé™„åŠ çš„ç°æœ‰å·å†æ¬¡å¯åŠ¨å®¹å™¨**ï¼š

   å¦‚æœæ‚¨æ²¡æœ‰ç§»é™¤ç°æœ‰æ•°æ®ï¼Œè¿™å°†ä½¿ç”¨æ›´æ–°çš„é•œåƒå’Œç°æœ‰æ•°æ®å¯åŠ¨å®¹å™¨ã€‚å¦‚æœæ‚¨ç§»é™¤äº†ç°æœ‰æ•°æ®ï¼Œè¿™å°†ä½¿ç”¨æ›´æ–°çš„é•œåƒå’Œä¸€ä¸ªæ–°çš„ã€ç©ºçš„å·å¯åŠ¨å®¹å™¨ã€‚**å¯¹äº Nvidia GPU æ”¯æŒï¼Œåœ¨ docker run å‘½ä»¤ä¸­æ·»åŠ  `--gpus all`**

```bash
docker run -d -p 3000:8080 -v open-webui:/app/backend/data --name open-webui ghcr.io/open-webui/open-webui:main
```

## æ¯æ¬¡æ›´æ–°åéƒ½è¢«ç™»å‡ºï¼Ÿ
å¦‚æœæ‚¨å‘ç°æ¯æ¬¡æ›´æ–°åéƒ½è¢«ç™»å‡ºï¼Œè¯·ç¡®ä¿åœ¨ç¯å¢ƒå˜é‡ä¸­è®¾ç½®äº† `WEBUI_SECRET_KEY`ã€‚å¦‚æœæ²¡æœ‰ä¸€è‡´å®šä¹‰æ­¤å¯†é’¥ï¼Œæ‚¨çš„èº«ä»½éªŒè¯ä¼šè¯å¯èƒ½ä¼šåœ¨æ›´æ–°åå¤±æ•ˆã€‚

è¦æŒä¹…è®¾ç½® `WEBUI_SECRET_KEY`ï¼Œåœ¨è¿è¡Œ Docker å®¹å™¨æ—¶åŒ…å«å®ƒï¼š

```bash
docker run -d -p 3000:8080 -v open-webui:/app/backend/data --name open-webui -e WEBUI_SECRET_KEY=your_secret_key ghcr.io/open-webui/open-webui:main
```

æˆ–è€…ï¼Œå¦‚æœä½¿ç”¨ **docker-compose**ï¼Œåœ¨ `environment` éƒ¨åˆ†ä¸‹æ·»åŠ å®ƒï¼š

```yml
version: '3'
services:
  open-webui:
    image: ghcr.io/open-webui/open-webui:main
    ports:
      - "3000:8080"
    volumes:
      - open-webui:/app/backend/data
    environment:
      - WEBUI_SECRET_KEY=your_secret_key
```

æœ‰å…³ç¯å¢ƒå˜é‡è®¾ç½®çš„æ›´å¤šè¯¦æƒ…ï¼Œè¯·æŸ¥çœ‹ [Open WebUI å®‰å…¨å˜é‡æ–‡æ¡£](https://docs.openwebui.com/getting-started/env-configuration#security-variables)ã€‚

## ä½¿ç”¨ Watchtower è‡ªåŠ¨æ›´æ–° Open WebUI

æ‚¨å¯ä»¥ä½¿ç”¨ [Watchtower](https://containrrr.dev/watchtower/) è‡ªåŠ¨åŒ– Open WebUI çš„æ›´æ–°è¿‡ç¨‹ã€‚ä»¥ä¸‹æ˜¯ä¸‰ä¸ªé€‰é¡¹ï¼š

### é€‰é¡¹ 1ï¼šä¸€æ¬¡æ€§æ›´æ–°

æ‚¨å¯ä»¥è¿è¡Œ Watchtower ä½œä¸ºä¸€æ¬¡æ€§æ›´æ–°ï¼Œåœæ­¢å½“å‰å®¹å™¨ï¼Œæ‹‰å–æœ€æ–°é•œåƒï¼Œå¹¶ä½¿ç”¨æ›´æ–°çš„é•œåƒå’Œç°æœ‰å·å¯åŠ¨æ–°å®¹å™¨ï¼ˆ**å¯¹äº Nvidia GPU æ”¯æŒï¼Œåœ¨ docker run å‘½ä»¤ä¸­æ·»åŠ  `--gpus all`**ï¼‰ï¼š

```bash
docker run --rm --volume /var/run/docker.sock:/var/run/docker.sock containrrr/watchtower --run-once open-webui
```

### é€‰é¡¹ 2ï¼šå°† Watchtower ä½œä¸ºå•ç‹¬çš„å®¹å™¨è¿è¡Œ

æ‚¨å¯ä»¥å°† Watchtower ä½œä¸ºå•ç‹¬çš„å®¹å™¨è¿è¡Œï¼Œç›‘è§†å¹¶æ›´æ–°æ‚¨çš„ Open WebUI å®¹å™¨ï¼š

```bash
docker run -d --name watchtower \
  --volume /var/run/docker.sock:/var/run/docker.sock \
  containrrr/watchtower -i 300 open-webui
```

è¿™å°†ä»¥åˆ†ç¦»æ¨¡å¼å¯åŠ¨ Watchtowerï¼Œæ¯ 5 åˆ†é’Ÿç›‘è§†ä¸€æ¬¡æ‚¨çš„ Open WebUI å®¹å™¨æ˜¯å¦æœ‰æ›´æ–°ã€‚

### é€‰é¡¹ 3ï¼šå°† Watchtower ä¸ `docker-compose.yml` æ–‡ä»¶é›†æˆ

æ‚¨è¿˜å¯ä»¥å°† Watchtower ä¸æ‚¨çš„ `docker-compose.yml` æ–‡ä»¶é›†æˆï¼Œä¸º Open WebUI è‡ªåŠ¨æ›´æ–°ï¼ˆ**å¯¹äº Nvidia GPU æ”¯æŒï¼Œåœ¨ docker run å‘½ä»¤ä¸­æ·»åŠ  `--gpus all`**ï¼‰ï¼š

```yml
version: '3'
services:
  open-webui:
    image: ghcr.io/open-webui/open-webui:main
    ports:
      - "3000:8080"
    volumes:
      - open-webui:/app/backend/data

  watchtower:
    image: containrrr/watchtower
    volumes:
      - /var/run/docker.sock:/var/run/docker.sock
    command: --interval 300 open-webui
    depends_on:
      - open-webui

volumes:
  open-webui:
```

åœ¨æ­¤ç¤ºä¾‹ä¸­ï¼ŒWatchtower ä¸ `docker-compose.yml` æ–‡ä»¶é›†æˆï¼Œå¹¶æ¯ 5 åˆ†é’Ÿç›‘è§†ä¸€æ¬¡ Open WebUI å®¹å™¨æ˜¯å¦æœ‰æ›´æ–°ã€‚

## Docker å·ä¸­çš„æŒä¹…æ•°æ®

æ•°æ®å­˜å‚¨åœ¨åä¸º `open-webui` çš„ Docker å·ä¸­ã€‚å·çš„è·¯å¾„ä¸èƒ½ç›´æ¥è®¿é—®ï¼Œä½†æ‚¨å¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤æ£€æŸ¥å·ï¼š

```bash
docker volume inspect open-webui
```

è¿™å°†æ˜¾ç¤ºå·çš„è¯¦ç»†ä¿¡æ¯ï¼ŒåŒ…æ‹¬æŒ‚è½½ç‚¹ï¼Œé€šå¸¸ä½äº `/var/lib/docker/volumes/open-webui/_data`ã€‚  

åœ¨ Windows 10 + WSL 2 ä¸Šï¼ŒDocker å·ä½äºä»¥ä¸‹ä½ç½®ï¼ˆåœ¨ Windows æ–‡ä»¶èµ„æºç®¡ç†å™¨ä¸­è¾“å…¥ï¼‰ï¼š 
- \\\wsl$\docker-desktop\mnt\docker-desktop-disk\data\docker\volumes

å¯¹äºè¾ƒæ—§ç‰ˆæœ¬çš„ Dockerï¼ˆDocker v26.1.4 ä¹‹å‰ï¼‰ï¼š
- \\\wsl$\docker-desktop-data\data\docker\volumes
- \\\wsl$\docker-desktop-data\version-pack-data\community\docker\volumes

_ï¼ˆWindows ç­”æ¡ˆå½’åŠŸäº StackOverflow ç”¨æˆ· sarye-haddadiï¼›[åŸå§‹ SO å¸–å­é“¾æ¥](https://stackoverflow.com/questions/43181654/locating-data-volumes-in-docker-desktop-windows)ï¼‰_